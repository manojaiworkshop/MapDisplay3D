<!DOCTYPE html>
<html>
<head>
    <title>Offline Railway Map Test</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="leaflet/leaflet.css" />
    <script src="leaflet/leaflet.js"></script>
    <style>
        #map { height: 100vh; width: 100%; }
        body { margin: 0; font-family: Arial, sans-serif; }
        .info-panel {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px;
            border-radius: 5px;
            z-index: 1000;
            max-width: 250px;
        }
    </style>
</head>
<body>
    <div class="info-panel">
        <h4>ðŸš„ Offline Railway Map</h4>
        <p><strong>Features:</strong></p>
        <ul>
            <li>âœ… No internet required</li>
            <li>âœ… India boundary from OSM</li>
            <li>âœ… 22 Railway stations</li>
            <li>âœ… Interactive markers</li>
            <li>âœ… Railway line route</li>
        </ul>
    </div>
    <div id="map"></div>
    
    <!-- Include the same script as map.html -->
    <script>
        // Initialize map with standard geographic coordinates (offline)
        var map = L.map('map', {
            minZoom: 4,
            maxZoom: 8
        }).setView([20.5937, 78.9629], 5); // Center of India

        // Add a simple background color
        map.getContainer().style.backgroundColor = '#a8d8ea';

        // India boundary GeoJSON (simplified for demo)
        var indiaBoundary = {
            "type": "FeatureCollection",
            "features": [{
                "type": "Feature",
                "properties": {"name": "India"},
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [[
                        [77.837451, 35.49401], [97.402561, 27.882536], [94.106742, 23.850741],
                        [88.888766, 21.690588], [82.192969, 17.016636], [77.539898, 7.965535],
                        [72.824475, 20.419503], [68.176645, 23.691965], [70.616496, 27.989196],
                        [74.42138, 30.979815], [77.837451, 35.49401]
                    ]]
                }
            }]
        };

        // Sample stations for demo
        var stationsGeoJSON = {
            "type": "FeatureCollection",
            "features": [
                {"type":"Feature","properties":{"name":"New Delhi (NDLS)"},"geometry":{"type":"Point","coordinates":[77.2219,28.6415]}},
                {"type":"Feature","properties":{"name":"Lucknow (LKO)"},"geometry":{"type":"Point","coordinates":[80.9231,26.8393]}},
                {"type":"Feature","properties":{"name":"Varanasi (BSB)"},"geometry":{"type":"Point","coordinates":[82.9739,25.3176]}},
                {"type":"Feature","properties":{"name":"Patna (PNBE)"},"geometry":{"type":"Point","coordinates":[85.1376,25.6022]}},
                {"type":"Feature","properties":{"name":"Howrah (HWH)"},"geometry":{"type":"Point","coordinates":[88.3426,22.5826]}}
            ]
        };

        // Add India boundary
        L.geoJSON(indiaBoundary, {
            style: {
                fillColor: '#90EE90',
                weight: 2,
                opacity: 1,
                color: '#2E8B57',
                fillOpacity: 0.3
            }
        }).addTo(map);

        // Add stations
        L.geoJSON(stationsGeoJSON, {
            pointToLayer: function(feature, latlng) {
                return L.circleMarker(latlng, {
                    radius: 10,
                    fillColor: '#ff7800',
                    color: '#000',
                    weight: 2,
                    opacity: 1,
                    fillOpacity: 0.8
                });
            },
            onEachFeature: function(feature, layer) {
                layer.bindPopup('<b>' + feature.properties.name + '</b>');
            }
        }).addTo(map);

        console.log("âœ… Offline map loaded successfully!");
    </script>
</body>
</html>